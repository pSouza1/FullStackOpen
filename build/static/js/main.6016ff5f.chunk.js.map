{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","newSearch","onChange","handleSearchChange","PersonForm","onSubmit","addNames","newName","handlePersonChange","newNumber","handleNumberChange","type","Persons","filteredPersons","map","person","name","number","onClick","handleDelete","id","baseUrl","axios","get","then","response","data","newObject","post","put","console","log","request","delete","Notification","message","classNameStyle","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","setClassNameStyle","useEffect","numbersService","initialPersons","length","filter","toLowerCase","includes","event","target","preventDefault","undefined","find","window","confirm","changedPerson","n","returnedPerson","p","setTimeout","personObject","concat","index","personToDelete","catch","deleteName","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6016ff5f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\nreturn(\r\n    <div>\r\n      <form> filter shown with <input value={props.newSearch} onChange={props.handleSearchChange}/> </form>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n\r\nreturn(\r\n<form onSubmit={props.addNames}>\r\n        <div>\r\n          name: \r\n          <input value={props.newName} onChange={props.handlePersonChange} />\r\n        </div>\r\n\r\n        <div>\r\n          number: \r\n          <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n)\r\n}\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Persons = (props) => {\r\n\r\n    return (\r\n    <ul>\r\n      {props.filteredPersons.map((person) => (\r\n        <li key={person.name}>\r\n          {\" \"}\r\n          {person.name} {person.number} {' '}\r\n\r\n          <button\r\n            onClick={() => {\r\n              props.handleDelete(person.id);\r\n            }}>\r\n            delete\r\n          </button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteIndex = (id) => {\r\n    console.log(\"Vai eliminar!\")\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    console.log(\"EstÃ¡ eliminado!\")\r\n    return request.then((response) => response.data);\r\n  };\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  deleteIndex: deleteIndex\r\n};\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, classNameStyle }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={classNameStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport numbersService from './services/numbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n\n  const [message, setMessage] = useState(null)\n  const [classNameStyle, setClassNameStyle] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    numbersService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n\n  const addNames = (event) => {\n    event.preventDefault();\n\n    let duplicates = persons.find((person) => person.name === newName);\n\n    if (duplicates !== undefined) {\n      \n      if (window.confirm(newName + \" is already added on the phonebook, replace the old number with a new one?\")) {\n\n        const changedPerson = persons.find(n => n.name === newName)\n        console.log(changedPerson)\n  \n        changedPerson.number = newNumber\n        console.log(changedPerson)\n  \n        numbersService\n        .update(changedPerson.id, changedPerson)\n        .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== changedPerson.id ? p : returnedPerson))\n        setMessage(\"Updated \" + returnedPerson.name)\n        setClassNameStyle(\"added\")\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n\n      numbersService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(\"Added \" + personObject.name)\n        setClassNameStyle(\"added\")\n        setNewName(\"\")\n        setNewNumber(\"\")\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        })\n    }\n  }\n\n  const deleteName = (id) => {\n    \n    const personToDelete = persons.find(person => person.id === id)\n\n    if (window.confirm(\"Delete \" + personToDelete.name + \" ?\")) {\n\n      numbersService\n      .deleteIndex(id)\n      .then(() => {\n        setPersons(persons.filter(person=> person.id !== id))\n      })\n      .catch( () => {\n        setMessage(\n          `Information of ${personToDelete.name} has already been removed from server`\n        )\n        setClassNameStyle(\"removed\")\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)})\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  }\n\n    const handleNumberChange = (event) => {\n      console.log(event.target.value);\n      setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value);\n    setNewSearch(event.target.value);\n};\n\n  const handleDelete = (index) => {\n    console.log(index);\n    deleteName(index)\n};\n\n\nlet filteredPersons = persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} classNameStyle={classNameStyle} />\n\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange}/>\n\n      <h2>add a new</h2>\n\n      <PersonForm addNames={addNames} newName={newName} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n\n      <h2>Numbers</h2>\n\n      <Persons filteredPersons={filteredPersons} handleDelete={handleDelete}/>\n\n     </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}